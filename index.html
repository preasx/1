<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dynamic Subdomain Mapper</title>
</head>
<body>
  <div id="status">ğŸ”„ Loading...</div>
  <iframe id="loader" style="width:100%;height:100vh;border:none;display:none;"></iframe>

  <script>
    const sub = location.hostname.split('.')[0];
    const mapURL = "https://gist.githubusercontent.com/Preasx24/451a35def0daf123212fcb9729d3dfdd/raw/gistfile1.txt";

    fetch(mapURL)
      .then(res => res.json())
      .then(data => {
        if (!data[sub]) {
          document.getElementById("status").innerText = "âŒ Subdomain not found in mapping.";
          return;
        }

        const { url, expires } = data[sub];
        if (Date.now() / 1000 > expires) {
          document.getElementById("status").innerText = "â° Mapping expired.";
          return;
        }

        document.getElementById("loader").src = url;
        document.getElementById("loader").style.display = "block";
        document.getElementById("status").style.display = "none";
      })
      .catch(err => {
        document.getElementById("status").innerText = "âš ï¸ Failed to load mapping.";
      });
  </script>
</body>
</html>